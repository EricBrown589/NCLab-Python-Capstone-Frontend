<header>Cards</header>

<div>
    <p class="search">Add a card by name to see its price and image:</p>
    <!-- Form to submit a new card -->
    <form (ngSubmit)="addCard()">
        <input [(ngModel)]="cardData.name" name="name" placeholder="Card Name">
        <button type="submit">Submit</button>
    </form>
</div>

<div>
    <div>
        <!-- Sorting controls for name and price asc/desc -->
        <button (click)="sortByName()">
            Sort by Name
            <span *ngIf="sortKey === 'name'">{{ sortDirection === 'asc' ? '↑' : '↓' }}</span>
        </button>
        <button (click)="sortByPrice()">
            Sort by Price
            <span *ngIf="sortKey === 'price'">{{ sortDirection === 'asc' ? '↑' : '↓' }}</span>
        </button>
    </div>
    <div>
        <label>Colors:</label>
        <!-- Checkboxes for selecting colors for filtering -->
        <input type="checkbox" (change)="toggleColor('W', $event); applyFilters()"> White
        <input type="checkbox" (change)="toggleColor('U', $event); applyFilters()"> Blue
        <input type="checkbox" (change)="toggleColor('B', $event); applyFilters()"> Black
        <input type="checkbox" (change)="toggleColor('R', $event); applyFilters()"> Red
        <input type="checkbox" (change)="toggleColor('G', $event); applyFilters()"> Green
        <input type="checkbox" (change)="toggleColor('C', $event); applyFilters()"> Colorless

        <label>Type:</label>
        <!-- Dropdown for selecting card type for filtering -->
        <select [(ngModel)]="selectedType" (change)="applyFilters()">
            <option value="">All Types</option>
            <option value="Artifact">Artifact</option>
            <option value="Battle">Battle</option>
            <option value="Conspiracy">Conspiracy</option>
            <option value="Creature">Creature</option>
            <option value="Dungeon">Dungeon</option>
            <option value="Emblem">Emblem</option>
            <option value="Enchantment">Enchantment</option>
            <option value="Hero">Hero</option>
            <option value="Instant">Instant</option>
            <option value="Kindred">Kindred</option>
            <option value="Land">Land</option>
            <option value="Phenomenon">Phenomenon</option>
            <option value="Plane">Plane</option>
            <option value="Planeswalker">Planeswalker</option>
            <option value="Scheme">Scheme</option>
            <option value="Sorcery">Sorcery</option>
            <option value="Vanguard">Vanguard</option>
        </select>
    </div>
    <button (click)="resetPage()">Clear All</button>
    <ul>
        <!-- List of cards with image, name, price, and amount owned with increase/decrease buttons -->
        <li *ngFor="let c of pagedCards">
            <img [src]="c.image_url">
            <div>
                <p>Name: {{c.name}}</p>
                <p>Price: ${{c.price}}</p>
                <p>Owned: {{c.amount_owned}} 
                    <button (click)="increaseAmountOwned(c)">+</button>
                    <button (click)="decreaseAmountOwned(c)">-</button>
                </p>
            </div>
        </li>
    </ul>
</div>

<div class="pagination">
    <!-- Pagination controls -->
    <button (click)="previousPage()" [disabled]="currentPage === 1">Previous</button>
    <span>Page {{currentPage}} of {{getTotalPages()}}</span>
    <button (click)="nextPage()" [disabled]="currentPage === getTotalPages()">Next</button>
</div>

